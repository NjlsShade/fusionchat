<html>
	<head>
		<title>FusionChat</title>
		<link href="css/icon.css" rel="stylesheet">
		<link type="text/css" rel="stylesheet" href="css/materialize.css"  media="screen,projection"/>
		<link type="text/css" rel="stylesheet" href="css/material-icons.css" />
		<link type="text/css" rel="stylesheet" href="css/core.css" />
		<script src="js/core.js"></script>
		<script src="js/settings.js"></script>
		<script src="js/hammer.min.js" onload="window.Hammer = module.exports;"></script>

		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	</head>
	<body>
		<script type="text/javascript" src="js/jquery-2.1.1.min.js"></script>
		<script type="text/javascript" src="js/materialize.js"></script>

		<div id="titlebar" style="position: relative; z-index: 9999;">

			<div id="title">FusionChat</div>

			<!-- App Icon -->
			<img src="img/fox.jpg" width="16px" height="16px" style="margin: 8px;"></img>

			<!--Title Bar Buttons-->
			<div id="titleBtns">

				<a class="main_button" onclick="closeBtn()" style="float: right; cursor: default; outline: none;">
					<i class="material-icons">close</i>
				</a>

				<a class="main_button" onclick="maxBtn()" style="float: right; cursor: default; outline: none;">
					<i class="material-icons">fullscreen</i>
				</a>

				<a class="main_button" onclick="miniBtn()" style="float: right; cursor: default; outline: none;">
					<i class="material-icons">expand_more</i>
				</a>

			</div>

		</div>

		<!-- Main Navigation bar -->
		<nav class="nav-extended green">
			<div class="nav-wrapper">
				<a href="#" class="brand-logo" style="padding-left: 8px;">Menu</a>
				<a href="#" data-activates="mobile-demo" class="button-collapse" style="cursor: default"><i class="material-icons">menu</i></a>
				<ul id="nav-mobile" class="right hide-on-med-and-down">
					<li><a href="#settings" onclick="openSettings();" style="cursor: default">Settings</a></li>
				</ul>
				<ul class="side-nav" id="mobile-demo" style="margin-top: 32px;">
					<li><a href="#settings" onclick="openSettings();" style="cursor: default">Settings</a></li>
				</ul>
			</div>
			<div class="nav-content">
				<ul class="tabs tabs-transparent">
					<li class="tab"><a class="active" href="#login" style="cursor: default">Login</a></li>
					<li class="tab"><a href="#register" style="cursor: default">Register</a></li>
				</ul>
			</div>
		</nav>

		<!-- Login page -->
		<div id="login" class="col s12 login-place">
			Login
			<div class="row">
				<div class="input-field col s6">
						<input id="login_email" name="login_email" type="text" class="validate">
						<label class="green-text" for="login_email">Email</label>
					</center>
				</div>
			</div>
			<div class="row">
				<div class="input-field col s6">
					<input id="login_password" name="login_password" type="password" class="validate">
					<label class="green-text" for="login_password">Password</label>
				</div>
			</div>
			<a class="waves-effect waves-light blue btn" onclick="login_post()">Login</a>
			<div id="login_status"></div>

		</div>

		<!-- Register page -->
		<div id="register" class="col s12 login-place">
			Register
			<div class="row">
				<div class="input-field col s6">
						<input id="reg_email" name="reg_email" type="text" class="validate">
						<label class="green-text" for="reg_email">Email</label>
				</div>
			</div>
			<div class="row">
				<div class="input-field col s6">
						<input id="reg_user" name="reg_user" type="text" class="validate">
						<label class="green-text" for="reg_user">Display Name</label>
				</div>
			</div>
			<div class="row">
				<div class="input-field col s3">
					<input id="reg_password" name="reg_password" type="password" class="validate">
					<label class="green-text" for="reg_password">Password</label>
				</div>
				<div class="input-field col s3">
					<input id="reg_con_password" name="reg_con_password" type="password" class="validate">
					<label class="green-text" for="reg_con_password">Confirm Password</label>
				</div>
			</div>
			<div class="row">
				<div class="input-field col s6">
					<select id="reg_gender">
						<option value="1">Custom</option>
						<option value="2">Female</option>
						<option value="3">Male</option>
					</select>
					<label>Gender</label>
				</div>
			</div>
			<a class="waves-effect waves-light blue btn" onclick="reg_post()">Register</a>
			<div id="reg_status" style="padding-bottom: 64px;"></div>
		</div>


		<!-- Settings -->
		<div id="settings" class="modal modal-fixed-footer">
			<div class="modal-content">
				<h4>Settings</h4>
				<p>
					<div style="float: left;">
						<input type="checkbox" id="tray" />
						<label for="tray">Show Tray Icon</label>

						<br><br>

						<input type="checkbox" id="sound" />
						<label for="sound">Notification Sound</label>
					</div>

					<div class="input-field col s12" style="width: 256px; float: right;">
						<select id="settings_lang">
							<option value="1" selected="selected">English</option>
							<option value="2">Español</option>
							<option value="3">中文</option>
							<option value="4">русский</option>
						</select>
						<label>Language</label>
					</div>
				</p>
			</div>
			<div class="modal-footer">
				<a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat" onclick="settingsSet();">Cancel</a>
				<a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat" onclick="tost(); save();">Save</a>
			</div>
		</div>
	</body>
	<script>
		require('./renderer.js');

		// Close SideNav init
		$(".button-collapse").sideNav();

		// Select init
		$(document).ready(function() {
			$('select').material_select();
		});

		// Why can't I put this in a function?!?!

		// Open Settings Menu
		function openSettings() {
			$('.modal').modal();
			closeNav();

			// Does not work...
		}

		// Close SideNav
		function closeNav() {
			$('.button-collapse').sideNav({
				closeOnClick: true // Closes side-nav on <a> clicks, useful for Angular/Meteor
			});
		}

		// Display toast
		function tost() {
			Materialize.toast('Settings Saved!', 4000)
		}

		function settingsSet() {
			document.getElementById("settings_lang").selectedIndex = "3";
		}

	</script>
</html>
